<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

    <body>

        <ui:composition template="./templeteAreaPessoal.xhtml">

            <ui:define name="content">
                <div align="center">
                    <h:form id="frmAlterarInformacoes" title="Alterar" acceptcharset="ISO-8859-1">

                        <p:panelGrid id="pnlCadastro" columns="3" styleClass="semBorda">
                            <f:facet name="header">
                                <h:outputText value="Alterar Informações"/>
                            </f:facet>

                            <h:outputLabel for="txtnome" value="Nome: *"/>
                            <p:inputText id="txtnome" label="Nome" maxlength="35" size="35" required="true" value="#{alterarInformacoesPessoaisController.usuarioLogado.nome}"
                                         requiredMessage="O campo nome é de preenchimento obrigatório!" title="Nome" validator="#{cadastroUsuarioController.validarEspacoBranco}"
                                         validatorMessage="O nome não pode conter numeros ou caracteres especiais!">
                                <f:validateRegex  pattern="^([A-Z,a-z, ,ã,á,à,â,ê,í,ú,õ,é,ü]){0,50}$" for="txtnome"/>
                                <p:watermark for="txtnome" value="Digite o seu nome" />                                                               
                            </p:inputText>
                            <p:message for="txtnome" display="icon"/>

                            <h:outputLabel for="txtnomeCompleto" value="Nome Completo: "/>
                            <p:inputText id="txtnomeCompleto" label="Nome Completo" size="40" maxlength="75" required="false" value="#{alterarInformacoesPessoaisController.usuarioLogado.nomeCompleto}"
                                         title="Nome" validator="#{cadastroUsuarioController.validarEspacoBranco}"
                                         validatorMessage="O nome não pode conter numeros ou caracteres especiais!">
                                <f:validateRegex  pattern="^([A-Z,a-z, ,ã,á,à,â,ê,í,ú,õ,é,ü]){0,50}$" for="txtnomeCompleto"/>
                                <p:watermark for="txtnomeCompleto" value="Nome Completo" />                                                               
                            </p:inputText>
                            <p:message for="txtnomeCompleto" display="icon"/>

                            <h:outputLabel for="txtemail" value="E-Mail: *"/>
                            <p:inputText id="txtemail" label="E-Mail" size="35" required="true" value="#{alterarInformacoesPessoaisController.usuarioLogado.email}"
                                         requiredMessage="O campo e-mail é de preenchimento obrigatório!" title="E-Mail" validator="#{cadastroUsuarioController.validarEspacoBranco}"
                                         validatorMessage="E-Mail invalido!" disabled="true"
                                         onkeyup="this.value = this.value.toLowerCase();"> 
                                <f:validateLength minimum="5"/>
                            </p:inputText>
                            <p:message for="txtemail" display="icon"/>

                            <h:outputLabel for="txtdataNascimento" value="Data Nascimento: *"/>
                            <p:calendar id="txtdataNascimento" size="10" locale="pt" label="DataNascimento" pattern="dd/MM/yyyy" required="true" value="#{alterarInformacoesPessoaisController.usuarioLogado.dataNascimento}" 
                                        requiredMessage="O campo data de nascimento é de preenchimento obrigatório!" title="Data de Nascimento" mindate="01/01/1900" > 
                                <p:watermark for="txtdataNascimento" value="dd/mm/aaaa" />
                            </p:calendar>
                            <p:message for="txtdataNascimento" display="icon"/>

                            <h:outputLabel for="txtPeso" value="Peso (Quilos): "/>
                            <p:inputMask id="txtPeso" mask="999" label="Peso" size="5" value="#{alterarInformacoesPessoaisController.usuarioLogado.peso}">
                                <p:watermark for="txtPeso" value="065" />                                                               
                            </p:inputMask>
                            <p:message for="txtPeso" display="icon"/>

                            <h:outputLabel for="txtAltura" value="Altura (Metros): "/>
                            <p:inputMask id="txtAltura" mask="9.99" label="Altura" size="4" value="#{alterarInformacoesPessoaisController.usuarioLogado.altura}">
                                <p:watermark for="txtAltura" value="1.50" />                                   
                            </p:inputMask>
                            <p:message for="txtAltura" display="icon"/>

                            <f:facet name="footer">
                                <h:outputText id="lblpreenchimentoObrigatorio" value="(*) Campos de preenchimento obrigatório"/>
                            </f:facet>

                        </p:panelGrid>
                        <p:spacer height="25" width="25"/>
                        <p:panelGrid columns="2" styleClass="semBorda">
                            <f:facet name="header">
                                <h:outputText value="Em Caso de Emergência"/>
                            </f:facet>

                            <h:outputLabel for="txtnomeMae" value="Nome Completo Mãe: "/>
                            <p:inputText id="txtnomeMae" label="Nome Mãe" size="40" maxlength="75" required="false" value="#{alterarInformacoesPessoaisController.usuarioLogado.nomeMae}"
                            title="Nome da Mãe" validator="#{cadastroUsuarioController.validarEspacoBranco}"
                            validatorMessage="O nome não pode conter numeros ou caracteres especiais!">
                                <f:validateRegex  pattern="^([A-Z,a-z, ,ã,á,à,â,ê,í,ú,õ,é,ü]){0,50}$" for="txtnomeMae"/>
                                <p:watermark for="txtnomeMae" value="Nome Completo da Mãe" />                                                               
                            </p:inputText>
                            
                            <h:outputLabel for="txtTelefone" value="Telefone Residencial: "/>
                            <p:inputMask id="txtTelefone" mask="(99)9999-9999" label="Telefone Residencial" size="13" value="#{alterarInformacoesPessoaisController.usuarioLogado.telefoneCasa}">
                                <p:watermark for="txtTelefone" value="(00)0000-0000" />                                   
                            </p:inputMask>

                            <h:outputLabel for="lstTipoSanguineo" value="Tipo Sanguíneo/Fator Rh: "/>
                            <p:selectOneMenu id="lstTipoSanguineo" label="Tipo Sanguineo" value="#{alterarInformacoesPessoaisController.usuarioLogado.tipoSanguineo}">
                                <f:selectItem itemLabel="Não Sei" itemValue="NS"/>
                                <f:selectItem itemLabel="O+" itemValue="O+"/>
                                <f:selectItem itemLabel="A+" itemValue="A+"/>
                                <f:selectItem itemLabel="B+" itemValue="B+"/>
                                <f:selectItem itemLabel="AB+" itemValue="AB+"/>
                                <f:selectItem itemLabel="O-" itemValue="O-"/>
                                <f:selectItem itemLabel="A-" itemValue="A-"/>
                                <f:selectItem itemLabel="B-" itemValue="B-"/>
                                <f:selectItem itemLabel="AB-" itemValue="AB-"/>
                            </p:selectOneMenu>

                            <h:outputLabel value="Descrição: " for="txtDescricao"/>
                            <p:inputTextarea id="txtDescricao" maxlength="255" style="text-align: justify"
                                             rows="6" cols="24" counter="counter" counterTemplate="{0} caracteres restantes."
                                             value="#{alterarInformacoesPessoaisController.usuarioLogado.informacoesImportantes}">
                                <p:watermark for="txtDescricao" value="Descreva informações que considere importantes em caso de emergência." />                                   
                            </p:inputTextarea>
                            <p:spacer width="10" height="10"/>
                            <h:outputText id="counter"/>


                            <f:facet name="footer">
                                <p:commandButton value="Alterar" id="btnCadastrar" label="Alterar" ajax="false" 
                                                 title="Cadastrar" action="#{alterarInformacoesPessoaisController.alterarInformações}"/>
                                <p:spacer height="10" width="10"/>
                            </f:facet>

                        </p:panelGrid>
                    </h:form>
                </div>
            </ui:define>

        </ui:composition>

    </body>
</html>
